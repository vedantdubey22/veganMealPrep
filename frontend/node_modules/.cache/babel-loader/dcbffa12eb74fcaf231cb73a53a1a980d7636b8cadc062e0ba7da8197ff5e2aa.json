{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true\n});\n\n// Add request interceptor for logging\napi.interceptors.request.use(config => {\n  console.log('Making request:', {\n    url: config.url,\n    method: config.method,\n    params: config.params,\n    headers: config.headers\n  });\n  return config;\n}, error => {\n  console.error('Request setup error:', error);\n  return Promise.reject(error);\n});\n\n// Add response interceptor for error handling\napi.interceptors.response.use(response => {\n  console.log('Received response:', {\n    status: response.status,\n    data: response.data\n  });\n  return response;\n}, error => {\n  if (error.response) {\n    var _error$response$data;\n    // Server responded with error status\n    console.error('API Error Response:', {\n      status: error.response.status,\n      statusText: error.response.statusText,\n      data: error.response.data,\n      headers: error.response.headers\n    });\n\n    // Enhance error message based on status code\n    const errorMessage = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || (error.response.status === 404 ? 'Resource not found' : error.response.status === 401 ? 'Unauthorized access' : error.response.status === 403 ? 'Access forbidden' : error.response.status === 400 ? 'Invalid request' : 'An error occurred while processing your request');\n    error.userMessage = errorMessage;\n  } else if (error.request) {\n    // Request made but no response received\n    console.error('Network Error - No response received:', error.request);\n    error.userMessage = 'Network error. Please check your connection and try again.';\n  } else {\n    // Error in request setup\n    console.error('Request Setup Error:', error.message);\n    error.userMessage = 'Failed to make request. Please try again.';\n  }\n  return Promise.reject(error);\n});\nexport const searchFood = async query => {\n  try {\n    console.log('Searching for food with query:', query);\n    const response = await api.get('/food/search', {\n      params: {\n        query\n      }\n    });\n    console.log('Search response:', response.data);\n    return response.data || [];\n  } catch (error) {\n    console.error('Error in searchFood:', error);\n    throw error;\n  }\n};\nexport const getNutritionInfo = async foodId => {\n  try {\n    console.log('Getting nutrition info for food ID:', foodId);\n    const response = await api.get(`/food/nutrition/${foodId}`);\n    console.log('Nutrition response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching nutrition data:', error);\n    throw error;\n  }\n};\nexport const calculateRequirements = async formData => {\n  try {\n    console.log('Calculating requirements with data:', formData);\n    const response = await api.post('/calculator/calculate', formData);\n    console.log('Calculator response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error calculating requirements:', error);\n    throw error;\n  }\n};\nexport const saveUserRequirements = async userData => {\n  try {\n    console.log('Saving user requirements:', userData);\n    const response = await api.post('/users/requirements', userData);\n    console.log('Save requirements response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error saving user requirements:', error);\n    throw error;\n  }\n};\nexport const saveMeal = async mealData => {\n  try {\n    const response = await api.post('/meals', mealData);\n    return response.data;\n  } catch (error) {\n    console.error('Error in saveMeal:', error);\n    throw error;\n  }\n};\nexport const getDailyMeals = async date => {\n  try {\n    const response = await api.get('/meals/daily', {\n      params: {\n        date\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error in getDailyMeals:', error);\n    throw error;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","headers","withCredentials","interceptors","request","use","config","console","log","url","method","params","error","Promise","reject","response","status","data","_error$response$data","statusText","errorMessage","message","userMessage","searchFood","query","get","getNutritionInfo","foodId","calculateRequirements","formData","post","saveUserRequirements","userData","saveMeal","mealData","getDailyMeals","date"],"sources":["C:/Users/dubey/OneDrive/Desktop/vegan meal prep/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  withCredentials: true\r\n});\r\n\r\n// Add request interceptor for logging\r\napi.interceptors.request.use((config) => {\r\n  console.log('Making request:', {\r\n    url: config.url,\r\n    method: config.method,\r\n    params: config.params,\r\n    headers: config.headers,\r\n  });\r\n  return config;\r\n}, (error) => {\r\n  console.error('Request setup error:', error);\r\n  return Promise.reject(error);\r\n});\r\n\r\n// Add response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log('Received response:', {\r\n      status: response.status,\r\n      data: response.data,\r\n    });\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response) {\r\n      // Server responded with error status\r\n      console.error('API Error Response:', {\r\n        status: error.response.status,\r\n        statusText: error.response.statusText,\r\n        data: error.response.data,\r\n        headers: error.response.headers,\r\n      });\r\n      \r\n      // Enhance error message based on status code\r\n      const errorMessage = error.response.data?.message || \r\n        (error.response.status === 404 ? 'Resource not found' :\r\n         error.response.status === 401 ? 'Unauthorized access' :\r\n         error.response.status === 403 ? 'Access forbidden' :\r\n         error.response.status === 400 ? 'Invalid request' :\r\n         'An error occurred while processing your request');\r\n      \r\n      error.userMessage = errorMessage;\r\n    } else if (error.request) {\r\n      // Request made but no response received\r\n      console.error('Network Error - No response received:', error.request);\r\n      error.userMessage = 'Network error. Please check your connection and try again.';\r\n    } else {\r\n      // Error in request setup\r\n      console.error('Request Setup Error:', error.message);\r\n      error.userMessage = 'Failed to make request. Please try again.';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const searchFood = async (query) => {\r\n  try {\r\n    console.log('Searching for food with query:', query);\r\n    const response = await api.get('/food/search', {\r\n      params: { query },\r\n    });\r\n    console.log('Search response:', response.data);\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Error in searchFood:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getNutritionInfo = async (foodId) => {\r\n  try {\r\n    console.log('Getting nutrition info for food ID:', foodId);\r\n    const response = await api.get(`/food/nutrition/${foodId}`);\r\n    console.log('Nutrition response:', response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching nutrition data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const calculateRequirements = async (formData) => {\r\n  try {\r\n    console.log('Calculating requirements with data:', formData);\r\n    const response = await api.post('/calculator/calculate', formData);\r\n    console.log('Calculator response:', response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error calculating requirements:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const saveUserRequirements = async (userData) => {\r\n  try {\r\n    console.log('Saving user requirements:', userData);\r\n    const response = await api.post('/users/requirements', userData);\r\n    console.log('Save requirements response:', response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error saving user requirements:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const saveMeal = async (mealData) => {\r\n  try {\r\n    const response = await api.post('/meals', mealData);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error in saveMeal:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getDailyMeals = async (date) => {\r\n  try {\r\n    const response = await api.get('/meals/daily', {\r\n      params: { date },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error in getDailyMeals:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default api; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB,CAAC;EACDC,eAAe,EAAE;AACnB,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE;IAC7BC,GAAG,EAAEH,MAAM,CAACG,GAAG;IACfC,MAAM,EAAEJ,MAAM,CAACI,MAAM;IACrBC,MAAM,EAAEL,MAAM,CAACK,MAAM;IACrBV,OAAO,EAAEK,MAAM,CAACL;EAClB,CAAC,CAAC;EACF,OAAOK,MAAM;AACf,CAAC,EAAGM,KAAK,IAAK;EACZL,OAAO,CAACK,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC5C,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACAd,GAAG,CAACK,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC1BU,QAAQ,IAAK;EACZR,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE;IAChCQ,MAAM,EAAED,QAAQ,CAACC,MAAM;IACvBC,IAAI,EAAEF,QAAQ,CAACE;EACjB,CAAC,CAAC;EACF,OAAOF,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EACT,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAAA,IAAAG,oBAAA;IAClB;IACAX,OAAO,CAACK,KAAK,CAAC,qBAAqB,EAAE;MACnCI,MAAM,EAAEJ,KAAK,CAACG,QAAQ,CAACC,MAAM;MAC7BG,UAAU,EAAEP,KAAK,CAACG,QAAQ,CAACI,UAAU;MACrCF,IAAI,EAAEL,KAAK,CAACG,QAAQ,CAACE,IAAI;MACzBhB,OAAO,EAAEW,KAAK,CAACG,QAAQ,CAACd;IAC1B,CAAC,CAAC;;IAEF;IACA,MAAMmB,YAAY,GAAG,EAAAF,oBAAA,GAAAN,KAAK,CAACG,QAAQ,CAACE,IAAI,cAAAC,oBAAA,uBAAnBA,oBAAA,CAAqBG,OAAO,MAC9CT,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,GAAG,oBAAoB,GACpDJ,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,GAAG,qBAAqB,GACrDJ,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,GAAG,kBAAkB,GAClDJ,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,GAAG,iBAAiB,GACjD,iDAAiD,CAAC;IAErDJ,KAAK,CAACU,WAAW,GAAGF,YAAY;EAClC,CAAC,MAAM,IAAIR,KAAK,CAACR,OAAO,EAAE;IACxB;IACAG,OAAO,CAACK,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAACR,OAAO,CAAC;IACrEQ,KAAK,CAACU,WAAW,GAAG,4DAA4D;EAClF,CAAC,MAAM;IACL;IACAf,OAAO,CAACK,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACS,OAAO,CAAC;IACpDT,KAAK,CAACU,WAAW,GAAG,2CAA2C;EACjE;EACA,OAAOT,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,OAAO,MAAMW,UAAU,GAAG,MAAOC,KAAK,IAAK;EACzC,IAAI;IACFjB,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEgB,KAAK,CAAC;IACpD,MAAMT,QAAQ,GAAG,MAAMjB,GAAG,CAAC2B,GAAG,CAAC,cAAc,EAAE;MAC7Cd,MAAM,EAAE;QAAEa;MAAM;IAClB,CAAC,CAAC;IACFjB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEO,QAAQ,CAACE,IAAI,CAAC;IAC9C,OAAOF,QAAQ,CAACE,IAAI,IAAI,EAAE;EAC5B,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMc,gBAAgB,GAAG,MAAOC,MAAM,IAAK;EAChD,IAAI;IACFpB,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEmB,MAAM,CAAC;IAC1D,MAAMZ,QAAQ,GAAG,MAAMjB,GAAG,CAAC2B,GAAG,CAAC,mBAAmBE,MAAM,EAAE,CAAC;IAC3DpB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEO,QAAQ,CAACE,IAAI,CAAC;IACjD,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMgB,qBAAqB,GAAG,MAAOC,QAAQ,IAAK;EACvD,IAAI;IACFtB,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEqB,QAAQ,CAAC;IAC5D,MAAMd,QAAQ,GAAG,MAAMjB,GAAG,CAACgC,IAAI,CAAC,uBAAuB,EAAED,QAAQ,CAAC;IAClEtB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEO,QAAQ,CAACE,IAAI,CAAC;IAClD,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMmB,oBAAoB,GAAG,MAAOC,QAAQ,IAAK;EACtD,IAAI;IACFzB,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEwB,QAAQ,CAAC;IAClD,MAAMjB,QAAQ,GAAG,MAAMjB,GAAG,CAACgC,IAAI,CAAC,qBAAqB,EAAEE,QAAQ,CAAC;IAChEzB,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEO,QAAQ,CAACE,IAAI,CAAC;IACzD,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMqB,QAAQ,GAAG,MAAOC,QAAQ,IAAK;EAC1C,IAAI;IACF,MAAMnB,QAAQ,GAAG,MAAMjB,GAAG,CAACgC,IAAI,CAAC,QAAQ,EAAEI,QAAQ,CAAC;IACnD,OAAOnB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMuB,aAAa,GAAG,MAAOC,IAAI,IAAK;EAC3C,IAAI;IACF,MAAMrB,QAAQ,GAAG,MAAMjB,GAAG,CAAC2B,GAAG,CAAC,cAAc,EAAE;MAC7Cd,MAAM,EAAE;QAAEyB;MAAK;IACjB,CAAC,CAAC;IACF,OAAOrB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,eAAed,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}