{"ast":null,"code":"import config from '../config/config';\nconst SYSTEM_PROMPT = `You are a helpful vegan meal assistant. You can:\n1. Suggest vegan recipes and meal ideas\n2. Provide nutritional information about vegan ingredients\n3. Offer tips for vegan meal prep and cooking\n4. Answer questions about vegan nutrition and diet\n5. Help with vegan substitutions for non-vegan ingredients\n\nKeep responses concise and friendly. If you're not sure about something, say so.`;\nexport const getChatResponse = async messages => {\n  try {\n    // Combine system prompt with user message\n    const latestMessage = messages[messages.length - 1];\n    const fullPrompt = `${SYSTEM_PROMPT}\\n\\nUser: ${latestMessage.text}`;\n    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${config.GEMINI_API_KEY}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: fullPrompt\n          }]\n        }],\n        generationConfig: {\n          temperature: 0.7,\n          maxOutputTokens: 500,\n          topP: 0.8,\n          topK: 40\n        }\n      })\n    });\n    if (!response.ok) {\n      var _error$error;\n      const error = await response.json();\n      console.error('API Error Response:', error);\n      throw new Error(((_error$error = error.error) === null || _error$error === void 0 ? void 0 : _error$error.message) || 'Failed to get response from AI');\n    }\n    const data = await response.json();\n    console.log('API Response:', data);\n    if (data.candidates && data.candidates[0] && data.candidates[0].content) {\n      return data.candidates[0].content.parts[0].text;\n    } else {\n      throw new Error('Unexpected API response format');\n    }\n  } catch (error) {\n    console.error('Chat API Error:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["config","SYSTEM_PROMPT","getChatResponse","messages","latestMessage","length","fullPrompt","text","response","fetch","GEMINI_API_KEY","method","headers","body","JSON","stringify","contents","parts","generationConfig","temperature","maxOutputTokens","topP","topK","ok","_error$error","error","json","console","Error","message","data","log","candidates","content"],"sources":["C:/Users/dubey/OneDrive/Desktop/vegan meal prep/frontend/src/utils/chatService.js"],"sourcesContent":["import config from '../config/config';\r\n\r\nconst SYSTEM_PROMPT = `You are a helpful vegan meal assistant. You can:\r\n1. Suggest vegan recipes and meal ideas\r\n2. Provide nutritional information about vegan ingredients\r\n3. Offer tips for vegan meal prep and cooking\r\n4. Answer questions about vegan nutrition and diet\r\n5. Help with vegan substitutions for non-vegan ingredients\r\n\r\nKeep responses concise and friendly. If you're not sure about something, say so.`;\r\n\r\nexport const getChatResponse = async (messages) => {\r\n    try {\r\n        // Combine system prompt with user message\r\n        const latestMessage = messages[messages.length - 1];\r\n        const fullPrompt = `${SYSTEM_PROMPT}\\n\\nUser: ${latestMessage.text}`;\r\n\r\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${config.GEMINI_API_KEY}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                contents: [{\r\n                    parts: [{\r\n                        text: fullPrompt\r\n                    }]\r\n                }],\r\n                generationConfig: {\r\n                    temperature: 0.7,\r\n                    maxOutputTokens: 500,\r\n                    topP: 0.8,\r\n                    topK: 40\r\n                }\r\n            })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const error = await response.json();\r\n            console.error('API Error Response:', error);\r\n            throw new Error(error.error?.message || 'Failed to get response from AI');\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('API Response:', data);\r\n        \r\n        if (data.candidates && data.candidates[0] && data.candidates[0].content) {\r\n            return data.candidates[0].content.parts[0].text;\r\n        } else {\r\n            throw new Error('Unexpected API response format');\r\n        }\r\n    } catch (error) {\r\n        console.error('Chat API Error:', error);\r\n        throw error;\r\n    }\r\n}; "],"mappings":"AAAA,OAAOA,MAAM,MAAM,kBAAkB;AAErC,MAAMC,aAAa,GAAG;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AAEjF,OAAO,MAAMC,eAAe,GAAG,MAAOC,QAAQ,IAAK;EAC/C,IAAI;IACA;IACA,MAAMC,aAAa,GAAGD,QAAQ,CAACA,QAAQ,CAACE,MAAM,GAAG,CAAC,CAAC;IACnD,MAAMC,UAAU,GAAG,GAAGL,aAAa,aAAaG,aAAa,CAACG,IAAI,EAAE;IAEpE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,0FAA0FT,MAAM,CAACU,cAAc,EAAE,EAAE;MAC5IC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,QAAQ,EAAE,CAAC;UACPC,KAAK,EAAE,CAAC;YACJV,IAAI,EAAED;UACV,CAAC;QACL,CAAC,CAAC;QACFY,gBAAgB,EAAE;UACdC,WAAW,EAAE,GAAG;UAChBC,eAAe,EAAE,GAAG;UACpBC,IAAI,EAAE,GAAG;UACTC,IAAI,EAAE;QACV;MACJ,CAAC;IACL,CAAC,CAAC;IAEF,IAAI,CAACd,QAAQ,CAACe,EAAE,EAAE;MAAA,IAAAC,YAAA;MACd,MAAMC,KAAK,GAAG,MAAMjB,QAAQ,CAACkB,IAAI,CAAC,CAAC;MACnCC,OAAO,CAACF,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,MAAM,IAAIG,KAAK,CAAC,EAAAJ,YAAA,GAAAC,KAAK,CAACA,KAAK,cAAAD,YAAA,uBAAXA,YAAA,CAAaK,OAAO,KAAI,gCAAgC,CAAC;IAC7E;IAEA,MAAMC,IAAI,GAAG,MAAMtB,QAAQ,CAACkB,IAAI,CAAC,CAAC;IAClCC,OAAO,CAACI,GAAG,CAAC,eAAe,EAAED,IAAI,CAAC;IAElC,IAAIA,IAAI,CAACE,UAAU,IAAIF,IAAI,CAACE,UAAU,CAAC,CAAC,CAAC,IAAIF,IAAI,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,EAAE;MACrE,OAAOH,IAAI,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,CAAChB,KAAK,CAAC,CAAC,CAAC,CAACV,IAAI;IACnD,CAAC,MAAM;MACH,MAAM,IAAIqB,KAAK,CAAC,gCAAgC,CAAC;IACrD;EACJ,CAAC,CAAC,OAAOH,KAAK,EAAE;IACZE,OAAO,CAACF,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACvC,MAAMA,KAAK;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}